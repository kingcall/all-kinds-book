[toc]
## 数据模型



所谓水无定势，兵无常法。不同的行业，有不同行业的特点，因此，从业务角度看，其相应的数据模型是千差万别的。

在银行业，IBM 有自己的 BDWM(Banking data warehouse model)，而 NCR 有自己的 FS-LDM 模型。在电信业，IBM 有 TDWM（Telecom Data warehouse model），而 NCR 有自己的 TS-LDM 模型。

因此，我们看到，不同的公司有自己针对某个行业的理解，因此会有不同的公司针对某个行业的模型。而对于不同的行业，同一个公司也会有不同的模型，这主要取决于不同行业的不同业务特点。

### 什么是数据模型

数据模型是抽象描述现实世界的**一种工具和方法**，是通过抽象的实体及真实的实体之间**联系的形式**，来表示现实世界中事务的相互关系的一种映射(也就是说模型对应着显示世界的一组关系或者一个事物)

在这里，数据模型表现的抽象的是实体和实体之间的关系，**通过对实体和实体之间关系的定义和描述，来表达实际的业务中具体的业务关系**。

所以总结下来，数据模型是用来描述数据、组织数据和对数据进行操作，是对现实世界数据特征的描述。其实就像是函数一样，例如给你一批数据让你分析，这个时候最好的方式是能建立一个数学模型，让你对数据之间的关系有一个清晰的认识，而我们的数据模型也是类似的的东西



###  数据仓库模型

**数据仓库模型是数据模型中针对特定的数据仓库应用系统的一种特定的数据模型**，一般的来说，我们数据仓库模型分为几下几个层次

![image-20201205182834463](https://kingcall.oss-cn-hangzhou.aliyuncs.com/blog/img/2020/12/05/18:28:35-image-20201205182834463.png)

业务建模，生成业务模型，主要解决业务层面的分解和程序化。

领域建模，生成领域模型，主要是对业务模型进行抽象处理，生成领域概念模型。

逻辑建模，生成逻辑模型，主要是将领域模型的概念实体以及实体之间的关系进行数据库层次的逻辑化。

物理建模，生成物理模型，主要解决，逻辑模型针对不同关系型数据库的物理化以及性能等一些具体的技术问题。

### 数据仓库三个阶段

- 通过数据仓库建设的发展阶段，我们能够看出，数据仓库的建设和数据集市的建设的重要区别就在于数据模型的支持。因此，数据模型的建设，对于我们数据仓库的建设，有着决定性的意义。

#### 简单报表阶段
- 这个阶段，系统的主要目标是解决一些日常的工作中业务人员需要的报表，以及生成一些简单的能够帮助领导进行决策所需要的汇总数据。这个阶段的大部分表现形式为数据库和前端报表工具。

#### 数据集市阶段
- 这个阶段，主要是**根据某个业务部门的需要**，进行一定的数据的采集，整理，按照业务人员的需要，进行多维报表的展现，能够提供对特定业务指导的数据，并且能够提供特定的领导决策数据。

#### 数据仓库阶段
- 这个阶段，主要是**按照一定的数据模型，对整个企业的数据进行采集**，整理，并且能够按照各个业务部门的需要，**提供跨部门的，完全一致的业务报表数据**，能够通过数据仓库生成对对业务具有指导性的数据，同时，为领导决策**提供全面的数据支持**。

### 数据模型建设的意义
#### 进行全面的业务梳理
改进业务流程。在业务模型建设的阶段，能够帮助我们的企业或者是管理机关对本单位的业务进行全面的梳理。通过业务模型的建设，我们应该能够全面了解该单位的业务架构图和整个业务的运行情况，能够将业务按照特定的规律进行分门别类和程序化，同时，帮助我们进一步的改进业务的流程，提高业务效率指导我们的业务部门的生产。

#### 建立全方位的数据视角

消灭信息孤岛和数据差异。通过数据仓库的模型建设，能够为企业提供一个整体的数据视角，不再是各个部门只是关注自己的数据，而且通过模型的建设，勾勒出了部门之间内在的联系，帮助消灭各个部门之间的信息孤岛的问题，更为重要的是，通过数据模型的建设，能够保证整个企业的数据的一致性，各个部门之间数据的差异将会得到有效解决

#### 解决业务的变动和数据仓库的灵活性
通过数据模型的建设，能够**很好的分离出底层技术的实现和上层业务的展现**。当上层业务发生变化时，**通过数据模型，底层的技术实现可以非常轻松的完成业务的变动，从而达到整个数据仓库系统的灵活性**。

#### 帮助数据仓库系统本身的建设
通过数据仓库的模型建设，开发人员和业务人员能够很容易的达成系统建设范围的界定，以及长期目标的规划，从而能够使整个项目组明确当前的任务，加快整个系统建设的速度。

### 数据仓库数据模型架构

数据仓库的数据模型的架构和数据仓库的整体架构是紧密关联在一起的

![image-20201205182853405](https://kingcall.oss-cn-hangzhou.aliyuncs.com/blog/img/2020/12/05/18:28:53-image-20201205182853405.png)


#### 系统记录域（System of Record）
这部分是主要的数据仓库业务数据存储区，数据模型在这里保证了数据的一致性。

#### 内部管理域（Housekeeping）

这部分主要存储数据仓库用于内部管理的元数据，数据模型在这里能够帮助进行统一的元数据的管理。

#### 汇总域（Summary of Area）
这部分数据来自于系统记录域的汇总，数据模型在这里保证了分析域的主题分析的性能，满足了部分的报表查询。

#### 分析域（Analysis Area）
这部分数据模型主要用于各个业务部分的具体的主题业务分析。这部分数据模型可以单独存储在相应的数据集市中。

#### 反馈域（Feedback Area）
可选项，这部分数据模型主要用于相应前端的反馈数据，数据仓库可以视业务的需要设置这一区域。